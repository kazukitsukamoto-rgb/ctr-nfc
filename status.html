<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Status</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="page page--status">
  <main class="card">
    <h2>Local Status (Organizer)</h2>
    <pre id="dump">Loadingâ€¦</pre>
    <button id="force-sync" class="btn btn--primary">Force Sync</button>
  </main>

  <script src="app.js"></script>
  <script>
    function refresh() {
      const keys = Object.keys(localStorage).sort();
      const o = {};
      keys.forEach(k => o[k] = localStorage.getItem(k));
      document.getElementById('dump').textContent = JSON.stringify(o, null, 2);
    }
    refresh();
    document.getElementById('force-sync').addEventListener('click', () => {
      CTR.trySync().then(refresh);
    });
  </script>
</body>
</html> 